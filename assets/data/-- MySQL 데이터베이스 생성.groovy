-- MySQL 데이터베이스 생성
CREATE DATABASE IF NOT EXISTS miriam_academy;
USE miriam_academy;

-- students 테이블 생성
CREATE TABLE IF NOT EXISTS students (
    id INT AUTO_INCREMENT PRIMARY KEY,
    academy VARCHAR(50) NOT NULL,
    student_number VARCHAR(10) NOT NULL,
    student_id VARCHAR(50) NOT NULL,
    password VARCHAR(50) NOT NULL,
    class_name VARCHAR(50) NOT NULL,
    grade VARCHAR(20) NOT NULL,
    phone_number VARCHAR(20) NOT NULL,
    phone_number2 VARCHAR(20) NOT NULL,
    start_day DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_student (student_id, student_number)
);

-- 데이터 삽입
INSERT INTO students (academy, student_number, student_id, password, class_name, grade, phone_number, phone_number2, start_day) VALUES
('토킹스타', '1', '옥혜리', '0366', '비기너B', '1', '010-6354-0366', '010--', '2025-03-05'),
('토킹스타', '2', '한아란', '5623', '비기너B', '1', '010-4577-5623', '010--', '2025-03-04'),
('토킹스타', '3', '고이담', '5172', '비기너B', '1', '010-2324-5172', '010--', '2025-02-10'),
('토킹스타', '4', '김하준', '8397', '비기너B', '2', '010-5158-8397', '010--', '2025-02-24'),
('토킹스타', '5', '김예림', '9340', '비기너B', '2', '010-4475-9340', '010--', '2025-02-02'),
('토킹스타', '6', '오하린', '9343', '비기너B', '2', '010-9434-9343', '010-4607-0765', '2024-12-31'),
('토킹스타', '7', '이로이', '5797', '비기너B', '2', '010-9428-5797', '010--', '2024-11-03'),
('토킹스타', '8', '박시연', '9603', '비기너B', '2', '010-4669-9603', '010-3879-6382', '2024-02-24'),
('토킹스타', '9', '김유리', '4316', '비기너B', '2', '010-4554-4316', '010--', '2024-02-24'),
('토킹스타', '10', '사공윤', '1228', '비기너B', '3', '010-7758-1228', '010--', '2025-02-02'),
('토킹스타', '11', '이지온', '8587', '비기너B', '3', '010-9696-8587', '010--', '2024-10-05'),
('토킹스타', '12', '윤가온', '9695', '비기너B', '3', '010-9947-9695', '010--', '2024-10-05'),
('토킹스타', '13', '윤민서', '4965', '비기너B', '3', '010-5068-4965', '010--', '2024-10-05'),
('토킹스타', '14', '노찬솔', '6357', '비기너B', '3', '010-6510-6357', '010--', '2024-09-02'),
('토킹스타', '15', '정우영', '5504', '비기너B', '3', '010-9688-5504', '010--', '2024-07-27'),
('토킹스타', '16', '이민서', '4605', '비기너B', '3', '010-6370-4605', '010-8812-8478', '2023-08-28'),
('토킹스타', '17', '하정원', '6422', '비기너B', '3', '010-7941-6422', '010-4477-9603', '2023-03-02'),
('토킹스타', '18', '정세빈', '4040', '베이직 A', '4', '010-3134-4040', '010--', '2025-06-30'),
('토킹스타', '19', '송현승', '1290', '베이직 A', '4', '010-2853-1290', '010--', '2025-05-19'),
('토킹스타', '20', '김가영', '5688', '비기너B', '4', '010-2504-5688', '010--', '2025-03-10'),
('토킹스타', '21', '오주안', '2367', '비기너B', '4', '010-5184-2367', '010--', '2025-03-01'),
('토킹스타', '22', '김도담', '8722', '베이직 A', '4', '010-8887-8722', '010--', '2024-09-02'),
('토킹스타', '23', '김연서', '2198', '베이직 A', '4', '010-2094-2198', '010--', '2024-03-21'),
('토킹스타', '24', '김초원', '3380', '비기너B', '4', '010-2774-3380', '010--', '2024-02-28'),
('토킹스타', '25', '조윤설', '2566', '베이직 A', '4', '010-5050-2566', '010--', '2024-02-24'),
('토킹스타', '26', '정호원', '9058', '베이직 A', '4', '010-5277-9058', '010--', '2024-02-24'),
('토킹스타', '27', '박수현', '2388', '베이직 A', '4', '010-3506-2388', '010--', '2024-01-04'),
('토킹스타', '28', '정지호', '1073', '베이직 A', '4', '010-2107-1073', '010--', '2024-01-04'),
('토킹스타', '29', '신연두', '9165', '베이직 A', '4', '010-7797-9165', '010--', '2023-10-06'),
('토킹스타', '30', '최지웅', '6787', '베이직 A', '4', '010-4632-6787', '010--', '2023-02-22'),
('토킹스타', '31', '김다희', '8900', '베이직 A', '4', '010-4194-8900', '010--', '2022-12-05'),
('토킹스타', '32', '오유빈', '9343', '베이직 A', '4', '010-9434-9343', '010-4607-0765', '2022-05-16'),
('토킹스타', '33', '옥은성', '0366', '베이직 A', '4', '010-6354-0366', '010--', '2022-03-07'),
('토킹스타', '34', '최하윤', '6889', '어드벤스A', '4', '010-9444-6889', '010--', '2022-02-21'),
('토킹스타', '35', '김승비', '4996', '베이직 A', '5', '010-4147-4996', '010--', '2024-01-08'),
('토킹스타', '36', '추연서', '1042', '베이직 A', '5', '010-5886-1042', '010--', '2023-04-01'),
('토킹스타', '37', '하주원', '6422', '비기너B', '5', '010-7941-6422', '010--', '2023-03-02'),
('토킹스타', '38', '박지환', '5510', '비기너B', '5', '010-3198-5510', '010-4844-8659', '2023-02-09'),
('토킹스타', '39', '이서준', '3851', '비기너B', '5', '010-7929-3851', '010--', '2023-01-02'),
('토킹스타', '40', '김민재', '5542', '베이직 A', '5', '010-2332-5542', '010--', '2023-01-02'),
('토킹스타', '41', '김승윤', '1850', '베이직 B', '5', '010-2335-1850', '010--', '2022-10-10'),
('토킹스타', '42', '이규연', '0322', '비기너B', '5', '010-3185-0322', '010--', '2022-08-23'),
('토킹스타', '43', '류다현', '2873', '비기너B', '5', '010-3568-2873', '010--', '2022-08-11'),
('토킹스타', '44', '노채린', '4414', '비기너B', '5', '010-8515-4414', '010--', '2022-03-28'),
('토킹스타', '45', '정지성', '9942', '베이직 B', '5', '010-2635-9942', '010--', '2022-03-28'),
('토킹스타', '46', '박시완', '8318', '베이직 B', '5', '010-8534-8318', '010--', '2021-12-01'),
('토킹스타', '47', '최예준', '3303', '비기너B', '5', '010-7458-3303', '010--', '2021-07-01'),
('토킹스타', '48', '정예지', '5284', '베이직 A', '5', '010-5036-5284', '010-5037-5284', '2021-02-26'),
('토킹스타', '49', '정현우', '6695', '베이직 A', '5', '010-2807-6695', '010--', '2021-02-25'),
('토킹스타', '50', '송현준', '1290', '베이직 B', '6', '010-2853-1290', '010--', '2025-05-19'),
('토킹스타', '51', '조예린', '2827', '베이직 A', '6', '010-2393-2827', '010--', '2024-01-08'),
('토킹스타', '52', '성보민', '3227', '베이직 A', '6', '010-7512-3227', '010--', '2023-10-11'),
('토킹스타', '53', '양예준', '6526', '베이직 A', '6', '010-4870-6526', '010--', '2023-10-05'),
('토킹스타', '54', '조아름', '3015', '베이직 A', '6', '010-3269-3015', '010--', '2023-05-23'),
('토킹스타', '55', '황승빈', '3373', '베이직 A', '6', '010-4521-3373', '010--', '2022-09-01'),
('토킹스타', '56', '이재성', '4832', '베이직 B', '6', '010-2791-4832', '010--', '2022-02-21'),
('토킹스타', '57', '사공율', '1228', '베이직 B', '6', '010-7758-1228', '010--', '2022-02-21'),
('토킹스타', '58', '이우재', '7855', '베이직 B', '6', '010-7156-7855', '010--', '2022-02-03'),
('토킹스타', '59', '최하윤', '7148', '베이직 A', '6', '010-9312-7148', '010--', '2020-05-25'),
('토킹스타', '60', '박은찬', '2352', '인터A', '중1', '010-6778-2352', '010--', '2020-08-29'),
('토킹스타', '61', '최서윤', '6889', '인터A', '중1', '010-9444-6889', '010--', '2020-09-10'),
('토킹스타', '62', '김유나', '1422', '인터A', '중1', '010-9881-1422', '010--', '2020-06-08'),
('토킹스타', '63', '이태영', '3851', '인터B', '중2', '010-7929-3851', '010--', '2019-12-26'),
('토킹스타', '64', '문지유', '8929', '인터B', '중2', '010-5790-8929', '010--', '2023-01-02'),
('토킹스타', '65', '김수영', '2625', '인터B', '중2', '010-8950-2625', '010--', '2019-02-26'),
('토킹스타', '66', '김혜림', '8875', '인터B', '중3', '010-4556-8875', '010--', '2021-04-07'),
('토킹스타', '67', '최현규', '7148', '어드벤스B', '중3', '010-9312-7148', '010--', '2017-09-04'),
('토킹스타', '68', '조규상', '7148', '어드벤스B', '특반', '010-9312-7148', '010--', '2017-09-04'),
('토킹스타', '69', '1234', '4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '70', '문유성', '1234', '111', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '71', '문유나', '1234', '111', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '72', '학생1', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '73', '학생2', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '74', '학생3', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '75', '학생4', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '76', '학생5', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '77', '학생6', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '78', '학생7', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '79', '학생8', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '80', '학생9', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '81', '학생10', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '82', '학생11', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '83', '학생12', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '84', '학생13', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '85', '학생14', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '86', '학생15', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04'),
('토킹스타', '87', '학생16', 'qwer4321', '어드벤스', '특반', '010-9', '010--', '2017-09-04');

-- 인덱스 생성 (검색 성능 향상)
CREATE INDEX idx_student_id ON students(student_id);
CREATE INDEX idx_class_name ON students(class_name);
CREATE INDEX idx_grade ON students(grade);
CREATE INDEX idx_start_day ON students(start_day);

-- 테이블 정보 확인
SELECT COUNT(*) as total_students FROM students;
SELECT class_name, COUNT(*) as student_count FROM students GROUP BY class_name ORDER BY student_count DESC;
SELECT grade, COUNT(*) as student_count FROM students GROUP BY grade ORDER BY grade;